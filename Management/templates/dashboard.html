{% load static tailwind_tags %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Auronix Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    {% tailwind_css %}
  </head>
  <body class="bg-gray-50 flex">
    <!-- Sidebar -->
    <aside class="w-64 bg-[#0b1f3a] text-white min-h-screen">
      <!-- Logo -->
      <div
        class="flex items-center space-x-3 p-4 bg-white rounded-lg shadow-md m-3"
      >
        <!-- Logo Icon -->
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-10 w-10 text-blue-700"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M13 10V3L4 14h7v7l9-11h-7z"
          />
        </svg>
        <!-- Text -->
        <span class="text-2xl font-bold text-blue-900">Auronix</span>
      </div>
         <nav class="mt-6 space-y-2" id="sidebarMenu">
        <a
          href="{% url "dashboard" %}"
          class="flex items-center px-6 py-2 hover:bg-blue-800 rounded-md"
        >
          <span class="mr-2">üìä</span> Dashboard
        </a>

        <a
          href="{% url 'manageproduct' %}"
          class="flex items-center px-6 py-2 hover:bg-blue-800 rounded-md"
        >
          <span class="mr-2">üíª</span> Manage Products
        </a>

        <a
          href="{% url 'managecategory' %}"
          class="flex items-center px-6 py-2 hover:bg-blue-800 rounded-md"
        >
          <span class="mr-2">üõí</span> Manage Category
        </a>

        <a
          href="{% url 'manage_user' %}"
          class="flex items-center px-6 py-2 hover:bg-blue-800 rounded-md"
        >
          <span class="mr-2">üë•</span> Customers
        </a>

        <a href="{% url 'manageorder' %}" class="flex items-center px-6 py-2 hover:bg-blue-800 rounded-md">
            <span class="mr-2">üì¶</span> Manage Order
        </a>


      
      </nav>
    </aside>

    <!-- Main Section -->
    <main class="flex-1 p-8">
      <!-- Header -->
      <div class="flex justify-between items-center mb-8">
        <div>
          <h1 class="text-2xl font-semibold">Welcome, Admin</h1>
          <p class="text-gray-500">{{ current_date }}</p>
        </div>
        <div class="flex items-center space-x-6">
          <div class="relative">
            <span
              class="absolute -top-2 -right-2 bg-red-500 text-xs text-white rounded-full px-1.5"
              >3</span
            >
            <svg
              class="w-6 h-6 text-gray-600"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V4a2 2 0 10-4 0v1.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"
              />
            </svg>
          </div>
          <div class="flex items-center space-x-3">
            <img
              src="{% static 'images/admin-avatar.png' %}"
              alt="Admin"
              class="rounded-full w-10 h-10"
            />
            <div>
              <p class="font-semibold">Admin</p>
              <p class="text-sm text-gray-500">Superuser</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Summary Cards -->
      <div class="grid grid-cols-4 gap-4 mb-8">
        <div class="bg-white rounded-lg shadow p-4 text-center">
          <p class="text-gray-500 font-bold">Total Products</p>
          <h2 class="text-3xl font-semibold text-blue-700">
            {{ total_product }}
          </h2>
        </div>
        <div class="bg-white rounded-lg shadow p-4 text-center">
          <p class="text-gray-500 font-bold">Total Category</p>
          <h2 class="text-3xl font-semibold text-blue-700">
            {{ total_category }}
          </h2>
        </div>
        <div class="bg-white rounded-lg shadow p-4 text-center">
          <p class="text-gray-500 font-bold">Total Customers</p>
          <h2 class="text-3xl font-semibold text-blue-700">{{ total_user }}</h2>
        </div>
        <div class="bg-white rounded-lg shadow p-4 text-center">
          <p class="text-gray-500 font-bold">Total Order</p>
          <h2 class="text-3xl font-semibold text-blue-600">
            {{ total_order }}
          </h2>
        </div>
      </div>
      <!-- Tabs Section -->
      <div class="mt-10">
        <!-- TAB BUTTONS -->
        <div class="flex space-x-4 mb-6">
          <button
            onclick="showTab('overview')"
            class="tab-btn bg-blue-600 text-white px-4 py-2 rounded"
          >
            Overview
          </button>
          <button
            onclick="showTab('addproduct')"
            class="tab-btn bg-gray-200 px-4 py-2 rounded"
          >
            Add Product
          </button>
          <button
            onclick="showTab('addcategory')"
            class="tab-btn bg-gray-200 px-4 py-2 rounded"
          >
            Add Category
          </button>
          <button
            onclick="showTab('order')"
            class="tab-btn bg-gray-200 px-4 py-2 rounded"
          >
           Add Order
          </button>
        </div>

        <!-- TAB CONTENTS -->

        <!-- 1Ô∏è‚É£ OVERVIEW -->
        <div id="overview" class="tab-content">
          <h1 class="text-3xl font-bold text-gray-800 mb-2">Hello üëã</h1>

          <p class="text-lg text-gray-600 mb-4">
            Welcome to your E-Commerce Admin Dashboard ‚Äî the central place where
            you can manage products, categories, orders, and customers.
          </p>

          <p class="text-gray-700 leading-relaxed">
            Use the navigation tabs above to quickly add new products, create
            categories, or place orders. This dashboard helps you keep
            everything organized and makes managing your store easier and
            faster.
          </p>

          <p class="mt-3 text-gray-700 leading-relaxed">
            Stay productive and keep your store growing! üöÄ
          </p>
        </div>

        <!-- 2Ô∏è‚É£ ADD PRODUCT FORM -->
        <div id="addproduct" class="tab-content hidden">
          <h2 class="text-2xl font-semibold mb-6 text-gray-800 border-b pb-2">
            ‚ûï Add New Product
          </h2>

          <form
            method="POST"
            action="{% url 'add_product' %}"
            class="space-y-4"
          >
            {% csrf_token %}

            <!-- Product Name -->
            <div>
              <label
                for="product_name"
                class="block text-gray-700 font-medium mb-1"
                >Product Name</label
              >
              <input
                type="text"
                id="product_name"
                name="product_name"
                maxlength="50"
                required
                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none"
                placeholder="Enter product name"
              />
            </div>

            <!-- Description -->
            <div>
              <label
                for="product_description"
                class="block text-gray-700 font-medium mb-1"
                >Product Description</label
              >
              <textarea
                id="product_description"
                name="product_description"
                rows="4"
                required
                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none"
                placeholder="Enter product details"
              ></textarea>
            </div>

            <!-- Price -->
            <div>
              <label for="price" class="block text-gray-700 font-medium mb-1"
                >Price (‚Çπ)</label
              >
              <input
                type="number"
                id="price"
                name="price"
                step="0.01"
                required
                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none"
                placeholder="Enter product price"
              />
            </div>

            <!-- Stock Quantity -->
            <div>
              <label
                for="product_stock"
                class="block text-gray-700 font-medium mb-1"
                >Stock Quantity</label
              >
              <input
                type="number"
                id="product_stock"
                name="product_stock"
                required
                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none"
                placeholder="Enter available stock"
              />
            </div>

            <!-- Availability -->
            <div class="flex items-center space-x-2">
              <input
                type="checkbox"
                id="available"
                name="available"
                class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
              />
              <label for="available" class="text-gray-700 font-medium"
                >Available</label
              >
            </div>

            <!-- Category -->
            <div>
              <label for="category" class="block text-gray-700 font-medium mb-1"
                >Category</label
              >
              <select
                id="category"
                name="category"
                required
                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none"
              >
                <option value="">-- Select Category --</option>
                {% for cat in category %}
                <option value="{{ cat.id }}">{{ cat.category_name }}</option>
                {% endfor %}
              </select>
            </div>

            <!-- Submit Button -->
            <div>
              <button
                type="submit"
                class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition duration-200 font-medium"
              >
                üíæ Save Product
              </button>
            </div>
          </form>
        </div>

        <!-- 3Ô∏è‚É£ ADD CATEGORY FORM -->
        <div id="addcategory" class="tab-content hidden">
          <h2
            class="text-2xl font-semibold text-gray-800 border-b pb-3 mb-4 flex items-center"
          >
            <span class="text-blue-600 text-3xl mr-2">üóÇÔ∏è</span> Categories List
          </h2>

          <h2 class="text-2xl font-semibold mb-4 text-gray-800">
            ‚ûï Add New Category
          </h2>

          <form
            method="POST"
            action="{% url 'add_category' %}"
            class="bg-white p-6 rounded-lg shadow-md mb-8 space-y-4"
          >
            {% csrf_token %}

            <div>
              <label class="block font-medium text-gray-700"
                >Category Name</label
              >
              <input
                type="text"
                name="category_name"
                placeholder="Enter category name"
                class="w-full border border-gray-300 rounded-lg p-2 focus:ring focus:ring-blue-200"
                required
              />
            </div>

            <div>
              <label class="block font-medium text-gray-700"
                >Category Description</label
              >
              <textarea
                name="category_description"
                placeholder="Enter category description"
                class="w-full border border-gray-300 rounded-lg p-2 focus:ring focus:ring-blue-200"
                required
              ></textarea>
            </div>

            <button
              type="submit"
              class="bg-blue-700 text-white px-5 py-2 rounded hover:bg-blue-800"
            >
              ‚ûï Add Category
            </button>
          </form>
        </div>
        <!-- 4Ô∏è‚É£ ORDER FORM -->
        <div id="order" class="tab-content hidden">
          <h2 class="text-2xl font-semibold mb-6 text-gray-800 border-b pb-2">
            üõí Create Order
          </h2>

          <form
            method="POST"
            action="{% url 'create_order' %}"
            class="space-y-4"
          >
            {% csrf_token %}

            <div>
              <label class="block text-gray-700">Customer</label>
              <select
                name="customer"
                class="w-full border px-3 py-2 rounded focus:ring focus:ring-blue-300"
              >
                {% for user in users %}
                <option value="{{ user.id }}">{{ user.username }}</option>
                {% endfor %}
              </select>
            </div>

            <div>
              <label class="block text-gray-700">Product</label>
              <select
                name="product"
                class="w-full border px-3 py-2 rounded focus:ring focus:ring-blue-300"
              >
                {% for product in products %}
                <option value="{{ product.id }}">
                  {{ product.product_name }} (‚Çπ{{ product.price }})
                </option>
                {% endfor %}
              </select>
            </div>

            <div>
              <label class="block text-gray-700">Quantity</label>
              <input
                type="number"
                name="quantity"
                min="1"
                value="1"
                required
                class="w-full border px-3 py-2 rounded focus:ring focus:ring-blue-300"
              />
            </div>

            <button
              type="submit"
              class="bg-green-600 text-white px-5 py-2 rounded hover:bg-green-700"
            >
              ‚úî Place Order
            </button>
          </form>
        </div>
      </div>
    </main>
    <!-- JAVASCRIPT FOR TABS -->
    <script>
      function showTab(tabId) {
        // Hide all tabs
        document
          .querySelectorAll(".tab-content")
          .forEach((tab) => tab.classList.add("hidden"));

        // Remove active style from all buttons
        document.querySelectorAll(".tab-btn").forEach((btn) => {
          btn.classList.remove("bg-blue-600", "text-white");
          btn.classList.add("bg-gray-200");
        });

        // Show selected tab
        document.getElementById(tabId).classList.remove("hidden");

        // Highlight active button
        event.target.classList.remove("bg-gray-200");
        event.target.classList.add("bg-blue-600", "text-white");
      }
    </script>
  </body>
</html>
